**1. Какой системный вызов делает команда cd? В прошлом ДЗ мы выяснили, что cd не является самостоятельной программой, это shell builtin, поэтому запустить strace непосредственно на cd не получится. Тем не менее, вы можете запустить strace на `/bin/bash -c 'cd /tmp'`. В этом случае вы увидите полный список системных вызовов, которые делает сам bash при старте. Вам нужно найти тот единственный, который относится именно к cd.**  
```
chdir("/tmp")
```

**2. Попробуйте использовать команду `file` на объекты разных типов на файловой системе. Используя `strace` выясните, где находится база данных `file` на основании которой она делает свои догадки.**

Команда `file` ищет базу в нескольких местах:
```
/home/vagrant/.magic.mgc
/home/vagrant/.magic
/etc/magic.mgc
/etc/magic
/usr/share/misc/magic.mgc # линк на /usr/lib/file/magic.mgc
```
**3. Предположим, приложение пишет лог в текстовый файл. Этот файл оказался удален (deleted в lsof), однако возможности сигналом сказать приложению переоткрыть файлы или просто перезапустить приложение – нет. Так как приложение продолжает писать в удаленный файл, место на диске постепенно заканчивается. Основываясь на знаниях о перенаправлении потоков предложите способ обнуления открытого удаленного файла (чтобы освободить место на файловой системе).**  

Как я понял нужно направить "пустоту" в нужный файловый дексриптор процесса, либо использовать `truncate`. 
```
$ > /proc/PID/fd/1
$ truncate -s 0 /proc/PID/fd/1
```

**4. Занимают ли зомби-процессы какие-то ресурсы в ОС (CPU, RAM, IO)?**  

Такой процесс блокирует записи в таблице процессов. А количество записей в ней ограничено.
Остальные ресурсы он не занимает

**5. В iovisor BCC есть утилита opensnoop. На какие файлы вы увидели вызовы группы open за первую секунду работы утилиты? Воспользуйтесь пакетом bpfcc-tools для Ubuntu 20.04.**  

первая запись появилась секунд через 10.
```
$ sudo opensnoop-bpfcc
PID    COMM               FD ERR PATH
1      systemd            12   0 /proc/734/cgroup
```
**6. Какой системный вызов использует uname -a? Приведите цитату из man по этому системному вызову, где описывается альтернативное местоположение в /proc, где можно узнать версию ядра и релиз ОС.**  

Системный вызов uname  
> Part of the utsname information is also accessible via /proc/sys/kernel/{ostype, hostname, osrelease, version, domainname}.  

**7. Чем отличается последовательность команд через `;` и через `&&` в bash? Есть ли смысл использовать в bash `&&`, если применить `set -e`?**  

Команды разделенные `;` выполняются последовательно и результат выполнения предыдущей никак не влияет на следующую. Когда команды разделены `&&`, следующая команда будет выполняться только при успешном завершении предыдущей.  
Если применить `set -e`, то последовательность команд будет сразу же завершаться при любой ошибке, а значит следующая команда запущена не будет. Таким образом применение `&&` не имеет смысла.

**8. Из каких опций состоит режим bash set -euxo pipefail и почему его хорошо было бы использовать в сценариях?**  

-e - выход, если команда вернула ненулевой код  
-u - запрещает использование неинициализированных переменных  
-x - выводит  команды в порядке их выполнения  
-o pipefail - конвеер будет возвращать значение команды, которая завершилась с ошибкой, либо 0, если все  хорошо  
Видимо так меньше шансов выстрелить себе в ногу.  

**9. Используя -o stat для ps, определите, какой наиболее часто встречающийся статус у процессов в системе. В man ps ознакомьтесь (/PROCESS STATE CODES) что значат дополнительные к основной заглавной буквы статуса процессов. Его можно не учитывать при расчете (считать S, Ss или Ssl равнозначными).**  

Если я правильно понял задание, то вот так:  
```
ps -e -o stat | cut -c1 | sort | uniq -c | sort -rn | head -n 1
     54 S
```
Большинство процессов находятся в состоянии "Прерывистого сна", т.е. чего-то ждут, например ввода-вывода  
 
