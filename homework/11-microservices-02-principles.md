# Домашнее задание к занятию "11.02 Микросервисы: принципы"

Вы работаете в крупной компанию, которая строит систему на основе микросервисной архитектуры.
Вам как DevOps специалисту необходимо выдвинуть предложение по организации инфраструктуры, для разработки и эксплуатации.


## Задача 1: API Gateway
Предложите решение для обеспечения реализации API Gateway. Составьте сравнительную таблицу возможностей различных программных решений. На основе таблицы сделайте выбор решения.

Решение должно соответствовать следующим требованиям:
- Маршрутизация запросов к нужному сервису на основе конфигурации
- Возможность проверки аутентификационной информации в запросах
- Обеспечение терминации HTTPS

Обоснуйте свой выбор.

|         | Маршрутизация  | Аутентификация | Терминация HTTPS |
|---------|----------------|----------------|------------------|
| Azure   |       +        |       +        |        +         |
| Amazon  |       +        |       +        |        +         |
| Yandex  |       +        |       +        |        +         |
| Nginx   |       +        |       +        |        +         |
| KrakenD |       +        |       +        |        +         |
| Traefik |       +        |       +        |        +         |

Если инфраструктура в облаке, то можно выбрать managed-решение, предлагаемое облаком. Если по каким-то причинам это не подходит, то я бы выбрал Traefik.

## Задача 2: Брокер сообщений

Составьте таблицу возможностей различных брокеров сообщений. На основе таблицы сделайте обоснованный выбор решения.

Решение должно соответствовать следующим требованиям:
- Поддержка кластеризации для обеспечения надежности
- Хранение сообщений на диске в процессе доставки
- Высокая скорость работы
- Поддержка различных форматов сообщений
- Разделение прав доступа к различным потокам сообщений
- Протота эксплуатации

Обоснуйте свой выбор.

|          | Кластеризация | Хранение | Скорость | Форматы | Права | 
|----------|---------------|----------|----------|---------|-------|
| Kafka    |       +       |     +    |    +     |    +    |   +   |
| RabbitMQ |       +       |     +-   |    +-    |    +    |   +   | 
| Redis    |       +       |     -    |    ++    |    +    |   +   |

Redis самый быстрый но не хранит сообщения на диске в процессе доставки,
kafka хранит данные у себя и после доставки сообщения, а так же выигрывает по скорости у rabbit (Kafka pull, rabbit - push), поэтому я бы выбрал Kafka.
